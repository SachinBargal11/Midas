<div class="container-fluid">
    <div class="row">
        <div class="col-lg-8 col-lg-push-2 col-md-12">
            <form [formGroup]="changePassForm" (ngSubmit)="updatePassword()" class="">
                <section class="box-typical">
                    <div class="card-block">
                        <div class="form-group" [class.error]="changePassFormControls.oldpassword.touched && !changePassFormControls.oldpassword.valid">
                            <input formControlName="oldpassword" type="password" class="form-control" [class.error]="!changePassFormControls.oldpassword.valid"
                                placeholder="Old Password" />
                            <div class='error-list' *ngIf="changePassFormControls.oldpassword.touched && !changePassFormControls.oldpassword.valid">
                                <ul>
                                    <li *ngIf="changePassFormControls.oldpassword.hasError('required')">Old Password is required.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="form-group" [class.error]="changePassFormControls.password.touched && !changePassFormControls.password.valid">
                            <input formControlName="password" type="password" minlength='8' class="form-control" [class.error]="!changePassFormControls.password.valid"
                                placeholder="New Password" />
                            <div class='error-list' *ngIf="changePassFormControls.password.touched && !changePassFormControls.password.valid">
                                <ul>
                                    <li *ngIf="changePassFormControls.password.hasError('required')">Password is required.</li>
                                    <li *ngIf="changePassFormControls.password.hasError('minlength')">Password should be minimum {{changePassFormControls.password.errors.minlength.requiredLength}}
                                        characters.
                                    </li>
                                    <li *ngIf="changePassFormControls.password.hasError('maxlength')">Password should be maximum {{changePassFormControls.password.errors.maxlength.requiredLength}}
                                        characters.
                                    </li>
                                    <li *ngIf="changePassFormControls.password.hasError('passwordValidator')">Please enter a valid password</li>
                                </ul>
                            </div>
                        </div>
                        <div class="form-group" [class.error]="changePassFormControls.confirmPassword.touched && changePassForm.hasError('mismatchedPasswords')">
                            <input formControlName="confirmPassword" type="password" class="form-control" [class.error]="changePassForm.hasError('mismatchedPasswords')"
                                placeholder="Repeat password" />
                            <div class='error-list' *ngIf="changePassFormControls.confirmPassword.touched && changePassForm.hasError('mismatchedPasswords')">
                                <ul>
                                    <li *ngIf="changePassForm.hasError('mismatchedPasswords')">Passwords do not match.</li>
                                </ul>
                            </div>
                        </div>
                        <button [disabled]="!changePassForm.valid || isPassChangeInProgress" type="submit" class="btn btn-success sign-up">Change Password
                    <loader [visible]="isPassChangeInProgress"></loader>
                </button>
                        <button type="button" class="btn btn-secondary" (click)="goBack()">Cancel
                </button>
                    </div>
                </section>

            </form>
        </div>
    </div>
</div>
<!--.page-center-->
<simple-notifications [options]="options"></simple-notifications>